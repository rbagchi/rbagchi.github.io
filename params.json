{"name":"Rbagchi.github.io","tagline":"github.io pages","body":"# 20 years of SQL and I discover this\r\n\r\nWhen I'm looking at a table of data, I'd select some criteria, like `n_rows > 1000`, and do three queries to get a sense of whether it was meaningful.\r\n```\r\nselect count(*) from innodb_table_stats;\r\nselect count(*) from innodb_table_stats where n_rows <= 1000;\r\nselect count(*) from innodb_table_stats where n_rows > 1000;\r\n```\r\n[...]\r\n\r\nWhich gets old fast (and isn't [DRY](http://c2.com/cgi/wiki?DontRepeatYourself) at all).  Imagine my surprise to discover that I can do this\r\n```\r\nmysql> use mysql;\r\nDatabase changed\r\nmysql> select sum(1), sum(n_rows <= 1000), sum(n_rows > 1000) from innodb_table_stats;\r\n+--------+---------------------+--------------------+\r\n| sum(1) | sum(n_rows <= 1000) | sum(n_rows > 1000) |\r\n+--------+---------------------+--------------------+\r\n|    228 |                 116 |                112 |\r\n+--------+---------------------+--------------------+\r\n```\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}